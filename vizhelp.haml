%html{lang:'en'}
  %head
    %meta{name:"viewport",content:"width=device-width, initial-scale=1.0"}
    %link{href:'bootstrap/css/bootstrap.css', rel:'stylesheet'}
    %link{href:'style.css', rel:'stylesheet'}

  %body
    .navbar.navbar-inverse.navbar-static-top{role:'navigation'}
      .container
        .navbar-header
          %button.navbar-toggle{type:'button',data-toggle:'collapse',data-target:'.navbar-collapse'}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{href:'index.html'} peptagram
        .navbar-collapse.collapse
          %ul.nav.navbar-nav
            %li
              %a{href:'index.html'} home
            %li.active
              %a{href:'vizhelp.html'} visualisation help
            %li
              %a{href:'vizgen.html'} visualisation generation
            %li
              %a{href:'api.html'} programming api
    #banner
      .container
        .row
          .col-lg-12
            %h1 PEPTAGRAM
            %h4 hassle-free visualisation of proteomics data

    #plaintext
      .container
        .row
          .col-lg-7.col-md-7.col-sm-8
            :markdown

              # HTML5 Visualisation Guide 

              The `peptagram` visualisation presents an overview of a proteomics experiments, organized around identified proteins, and their peptides.

              There are two modes:

              1. Sequence Overview of Single Experiment
              2. Graphical Comparison of Multiple Experiments

              In both modes, the display consists of:

              - list of identified proteins
              - detailed view of selected protein
              - info panel for selected protein
              - list of peptides used to identify proteins
              - info panel for selected peptide-spectrum match
              - optionally, a viewer of the spectrum with matched peaks

              ### List of Proteins
              This shows all the identified proteins, recognized as unique in the protein groupings. 

              The peptides used to identify the protein are displayed in the bar graph below. The display width are all normalized to be the same as there is too great a variation between protein sequence lengths to show this in proportion. 

              Clicking on a protein will bring up the protein information in the Protein Info panel.

              The Protein List can be sorted by the pop-up menu at the top of the section. The choice of sorting attributes depend on the available keys as displayed in the Protein Info panel.

              ### The Detailed Protein View

              This view is the primary difference between in the two different modes of `peptagram` in:

              1. Sequence Overview of Single Experiment: the  entire sequence of the protein rendered in easy-to-scan blocks of 5 characters. The peptides are displayed as links, and the first peptide-spectrum match corresponding to the peptide will be selected.

              2. Graphical Comparison of Multiple Experiments: the view shows a table-based graphic, where each row represents each separate experiment. Each row displays the peptides found in the protein for that particular experiment. This provides a quick way to scan through different experiments. Immediately below is a horizontally scrollable view of the sequence, corresponding to the  part of the graphic highlighted in the grey box.

              ### Keyboard Shortcuts
              Several keyboard shortcuts have been included, which are labeled above the sub-headings of the relevant section. These are:

                 - `N` and `P`: to move through proteins in the protein list
                 - `J` and `K`: to move through the peptide-spectrum matches
                 - `U` and `D`: to move between different rows of experiments in the comparison mode

              ### Searching 
              Searching is designed to be carried out using the built-in web-browser search. As such all the text for all the proteins have been embedded in the Protein List, making the text available to the web-browser search function.

              ### Peptide-Spectrum Match List 
              The peptide-spectrum matches are displayed as a list of peptides, with modifications highlighted. Multiple matches of the same peptide will have multiple entries, resulting in repeats of the peptides in the list. Clicking on a peptide will display the peptide-spectrum match info in the info panel. If spectra was also made available in the page generation, the corresponding MS/MS spectra in the Spectrum Viewr.

              ### Spectrum Viewer 
              A simple spectrum viewer has been included that  shows the top 50 peaks found in a peptide-spectrum match. A simple peptide mass calculator has been included to calculate the theoretical peaks for each peptide, and display matches in the viewer.

              Below the viewer is an interactive ion table, showing the mass peaks of b-ions and y-ions. By clicking on the labels at the top of the table, different charge states for the b-ions and y-ions can be toggled, both in the the table and the spectrum viewer above. 

              Clicking on the viewer will zoom to the nearest peak, where the viewer will scale to the height of the zoomed peak, which should now be in the middle of the viewer. Clicking again on the viewer will zoom out. The viewer automatically scales to the minimum-maxium peak m/z values.

              ### Zooming
              The web-app has been built to be page-responsive, and the page responds appropriately to both page resizes and zooming. Use the browser's built-in zoom function to increase the size of the font and relative sizes of elements onscreen.

              ### Multiple documents
              One extremely convenient function of the web-browser is that it can open multiple copies of the same web-page. Thus, you can open multiple copies of the same visualization, allowing conveninent on-screen comparisons.

              ### To-do
              hash references
              optimize for touch interface

    #footer
      .container
        .row
          .col-lg-7.col-md-7.col-sm-8
            :markdown
              Developed at the [Monash Proteomics Facility](http://monash.edu/proteomics).  <br>
              Source code hosted at <http://github.com/boscoh/peptagram>.   <br>
              Copyright &copy; 2013, Bosco K. Ho.

    %script{src:'jquery-1.10.2.min.js'}
    %script{src:'bootstrap/js/bootstrap.js'}
